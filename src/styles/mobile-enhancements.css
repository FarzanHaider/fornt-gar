/**
 * Mobile Enhancements
 * CSS improvements for better mobile experience
 * Ensures mobile feels as good as desktop
 */

/* Base mobile optimizations */
@media (max-width: 640px) {
  /* Improve touch targets - minimum 44x44px */
  /* Exclude navbar buttons from these rules to prevent layout issues */
  .touch-target-button {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem 1rem;
  }

  /* Better text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    font-size: 16px; /* Prevent iOS zoom on input focus */
  }

  /* Prevent horizontal scroll - exclude fixed/sticky elements */
  body, main, section, article, div:not([class*="fixed"]):not([class*="sticky"]):not([class*="absolute"]) {
    max-width: 100vw;
    box-sizing: border-box;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Game container optimizations */
  .game-container,
  .reels-grid,
  .bet-controls {
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Sidebar responsive behavior */
  .sidebar-container {
    max-width: min(320px, 90vw) !important;
    width: min(320px, 90vw) !important;
  }

  /* Optimize animations for mobile performance */
  .animate-spin,
  .animate-pulse,
  .animate-bounce {
    will-change: transform;
    transform: translateZ(0); /* GPU acceleration */
  }

  /* Better modal/modal overlay on mobile */
  .modal-container,
  .overlay-container {
    padding: 1rem;
    max-width: 100vw;
    max-height: 100vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Game selector optimizations */
  .game-selector-modal {
    margin: 0;
    border-radius: 1rem 1rem 0 0;
    max-height: 90vh;
  }

  .game-selector-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  /* Prevent text selection on game elements */
  .game-area *,
  .reels-grid *,
  .slot-engine * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Improve input fields on mobile */
  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
  }

  /* Better card/card layouts */
  [class*="card"],
  [class*="Card"] {
    margin: 0.5rem;
    padding: 1rem;
  }

  /* Touch-friendly hover states */
  @media (hover: none) and (pointer: coarse) {
    button:active,
    a:active,
    [role="button"]:active {
      transform: scale(0.95);
      opacity: 0.8;
    }

    /* Remove hover effects on touch devices */
    button:hover,
    a:hover,
    [role="button"]:hover {
      transform: none;
    }
  }

  /* Game selector sidebar on mobile */
  .game-selector-sidebar {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: min(320px, 85vw);
    z-index: 50;
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;
  }

  .game-selector-sidebar.open {
    transform: translateX(0);
  }

  /* Improved scrolling on mobile */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(147, 51, 234, 0.5) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #ff6b9d, #9333ea);
    border-radius: 10px;
  }

  /* Better spacing on mobile */
  .mobile-spacing {
    padding: 0.75rem;
    gap: 0.75rem;
  }

  /* Responsive text sizes */
  .text-responsive {
    font-size: clamp(0.875rem, 2.5vw, 1rem);
  }

  .heading-responsive {
    font-size: clamp(1.25rem, 4vw, 2rem);
  }
}

/* Tablet optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
  .game-container {
    padding: 1rem;
  }

  .game-selector-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }

  /* Better touch targets on tablet - use specific class */
  .touch-target-button {
    min-height: 44px;
    padding: 0.875rem 1.25rem;
  }
}

/* Large mobile / Small tablet */
@media (min-width: 425px) and (max-width: 768px) {
  .game-selector-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop - ensure consistency */
@media (min-width: 1025px) {
  .game-selector-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 1.25rem;
  }
}

/* Landscape mobile optimizations */
@media (max-width: 915px) and (orientation: landscape) {
  .game-container {
    max-height: 100vh;
    overflow-y: auto;
  }

  .mobile-landscape-hidden {
    display: none !important;
  }
}

/* Animation performance improvements */
@supports (will-change: transform) {
  .game-area,
  .reels-grid,
  .slot-engine {
    will-change: transform;
    transform: translateZ(0);
  }
}

/* Safe area insets for modern mobile devices */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }

  .safe-area-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .safe-area-left {
    padding-left: max(1rem, env(safe-area-inset-left));
  }

  .safe-area-right {
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* Fade-in animation for modals - uses definition from animations.css */

/* Slide-in animation for sidebars */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-in-out;
}

